# Warframe Lecta Tracker - Log Guide

This guide explains the data files generated by the tracker in your `OUTPUT` folder.

## 1. Master Run Log (`master_run_log.csv`)

This CSV file contains the raw data for your run. It is updated in real-time.

| Column | Description |
| :--- | :--- |
| **Time** | Elapsed time in seconds since the run started (F8). |
| **Live** | *Requires Log Tracking.* Number of enemies currently alive on the map (from `EE.log`). |
| **Spawned** | *Requires Log Tracking.* Total number of enemies spawned since mission start (from `EE.log`). |
| **Credits** | Total credits accumulated. Updated when you press TAB. |
| **CPM** | **Credits Per Minute**. Depending on settings, this column header will indicate the mode: `CPM (Cumulative)` or `CPM (Rolling Xs)`. |
| **Kills** | Total enemies killed. <br>• **Log Mode:** Calculated as `Spawned - Live`.<br>• **OCR Mode:** Read directly from the TAB menu. |
| **KPM** | **Kills Per Minute**. (Legacy column, usually mirrors Tab_KPM). |
| **Tab_KPM** | Snapshot KPM recorded only when TAB is pressed. Header indicates mode: `Tab_KPM (Cumulative)` or `Tab_KPM (Rolling Xs)`. |
| **Log_KPM** | Continuous KPM calculated from `EE.log` data. Header indicates mode: `Log_KPM (Cumulative)` or `Log_KPM (Rolling Xs)`. |
| **FPS** | Frames Per Second (requires FPS Tracking). |
| **Event** | Markers for specific actions (e.g., "Scan" indicates a TAB press). |

## 2. Debug Mode & Debug Info

The **DEBUG MODE** checkbox in the settings menu controls the level of detail recorded during your run.

### What it does:
*   **Enables Detailed Logging:** The `runtime_log.txt` will contain significantly more technical information, including file operations, exact timestamps of internal events, and error traces.
*   **Creates `DEBUG_INFO` Folder:** Inside your run folder, a subfolder named `DEBUG_INFO` is created to store diagnostic files.
*   **Saves Failed Scans:** If the OCR fails to read credits or kills, a screenshot of what the tracker saw is saved here. This is crucial for adjusting your bounding boxes.
*   **Records EE.log:** A copy of Warframe's `EE.log` covering the duration of the run is saved as `ee_recording.log`.

### Files in `DEBUG_INFO`:
*   **`runtime_log.txt`**: (Moved here if Debug is on) The verbose internal log.
*   **`NO_CREDITS_TEXT_AT_...png`**: Saved when the tracker could not find the word "Credits" in the green Scan Area.
*   **`OCR_CREDITS_FAIL_AT_...png`**: Saved when "Credits" was found, but the number reading failed (e.g., glare, obstruction).
*   **`ee_recording.log`**: A safe copy of Warframe's log file for this specific run. Useful for verifying Acolyte/Effigy detection issues.

## 3. Runtime Log (`runtime_log.txt`)

This text file records the internal events of the tracker.
*   **Location:** Inside the run folder. If **DEBUG MODE** is on, it is inside `DEBUG_INFO`.
*   **Format:** `[AppTime] [EE: Offset] [T+RunTime] Message`
    *   **[AppTime]**: Seconds since the application started.
    *   **[EE: ...]**: Calculated timestep in the sliced log (Run Time).
    *   **[T+...]**: Time relative to Run Start (F8).

### Common Entries
*   **[Run]**: Indicates start/stop of the timer. Includes configuration details (Mode, Resolution, Active Features) at the start.
*   **[Scan]**: Details about OCR attempts when you press TAB.
    *   *Success:* `Scanned - Time: 1.50m | Credits: 150000 ...`
    *   *Failure:* `[Scan] FAIL: ...` followed by a **Hint** explaining what might be wrong (e.g., "Menu not open", "Boxes misaligned").
    *   *Retries:* Logs if OCR is retrying due to empty scans.
*   **[Tracker]**: Alerts for Acolyte spawns (`Triggering Acolyte Warner`) or Effigy status.
*   **[Controller]**: Logs button presses if you use a controller to trigger scans or stop warnings.
*   **[Debug]**: (If enabled) Logs EE.log offsets, file operations, and detailed error traces.

## 4. Calculation Modes Explained

The tracker allows switching between **Cumulative** and **Rolling** averages to suit different analysis needs.

### Cumulative Average
*   **Formula:** `Total Value / Total Run Time`
*   **Behavior:** Represents the average efficiency of the *entire session*. It is very stable but becomes unresponsive to changes as the run gets longer.

### Rolling Average
*   **Formula:** `(Current Value - Value N seconds ago) / (Current Time - Time N seconds ago)`
*   **Behavior:** Represents the efficiency of the *recent past* (defined by the Window Size setting).
*   **Note for CPM/Tab KPM:** Since these rely on manual scans, the Rolling calculation searches for the scan closest to the target window time.
    *   *Example:* If Window is 300s (5 min) and you scan at minute 10, it looks for a scan that happened around minute 5.
    *   If no scan exists near the target time (e.g., start of run), it falls back to Cumulative calculation.